<!-- gitops-kustomz: {{.Service}}-{{.Environment}} -->

# ğŸ” GitOps Policy Check: {{.Service}} ({{.Environment}})

**Base Commit:** `{{.BaseCommit}}`
**Head Commit:** `{{.HeadCommit}}`
**Timestamp:** {{.Timestamp}}

---

## ğŸ“Š Summary

{{if .Diff.HasChanges}}
âœï¸ **Changes detected in manifests** ({{.Diff.LineCount}} lines changed)
{{else}}
âœ… **No changes detected**
{{end}}

{{if .PolicyReport}}
**Policy Evaluation:**
- **Total:** {{.PolicyReport.TotalPolicies}}
- **Passed:** {{.PolicyReport.PassedPolicies}} âœ…
- **Failed:** {{.PolicyReport.FailedPolicies}} âŒ
{{if gt .PolicyReport.ErroredPolicies 0}}- **Errored:** {{.PolicyReport.ErroredPolicies}} âš ï¸{{end}}

{{if gt .PolicyReport.FailedPolicies 0}}**Failures by Level:**
{{if gt .PolicyReport.BlockingFailures 0}}- ğŸš« Blocking: {{.PolicyReport.BlockingFailures}}{{end}}
{{if gt .PolicyReport.WarningFailures 0}}- âš ï¸  Warning: {{.PolicyReport.WarningFailures}}{{end}}
{{if gt .PolicyReport.RecommendFailures 0}}- ğŸ’¡ Recommend: {{.PolicyReport.RecommendFailures}}{{end}}
{{end}}
{{end}}

---

{{template "diff" .Diff}}

---

{{template "policy" .PolicyReport}}

---

_Generated by [gitops-kustomz](https://github.com/gh-nvat/gitops-kustomz)_

